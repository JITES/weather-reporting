
db.cities.find().forEach(function (doc) {
    var point = {
        _id : doc._id,
        id:doc.id,
        name:doc.name,
        state:doc.state,
        country:doc.country,
        loc : {
            type : "Point",
            coordinates : [doc.coord.lon, doc.coord.lat]
        }
    };
    db.cities.update(doc, point);
});

db.cities.ensureIndex({
    loc : "2dsphere"
});

mongoimport --uri="mongodb://localhost:27017/Klarna" --collection cities --file /Users/jiteshsrivastava/Desktop/Klarna/weather-reporting/data/city.list.json --jsonArray